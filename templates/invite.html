{% extends "base.html" %}

{% block title %}Contribute to {{ project.name }}{% endblock %}

{% block content %}
<div id="js-data" 
     data-project-id="{{ project._id }}"
     data-project-name="{{ project.name }}"
     data-invite-token="{{ invite_token }}"
     data-active-prompt="{{ invite_prompt }}">
</div>

<main class="space-y-12 max-w-3xl mx-auto">
    <div class="text-center">
        <h2 class="text-3xl font-extrabold text-slate-900">Add to: <span class="text-indigo-600">{{ project.name }}</span></h2>
        <p class="text-md text-slate-600 mt-1">as <strong class="text-purple-600">{{ contributor_label }}</strong></p>
    </div>

    <div class="content-card text-left">
        <p class="text-sm font-semibold text-slate-500 mb-2 tracking-wide uppercase">Your Prompt</p>
        <blockquote class="text-lg text-slate-800 border-l-4 border-indigo-500 pl-4 italic">{{ invite_prompt }}</blockquote>
    </div>
    
    <div id="follow-up-container" class="content-card text-left {% if not follow_up_questions %}hidden{% endif %}">
        <h3 class="text-xl font-semibold mb-3 text-slate-800">Continue the Conversation...</h3>
        <p class="text-slate-600 mb-4">Click a question below to keep the idea flowing.</p>
        <ul id="follow-up-list" class="space-y-2">
            {% for question in follow_up_questions %}
                <li class="p-4 bg-indigo-50/80 text-indigo-800 rounded-lg cursor-pointer hover:bg-indigo-100 transition-all duration-300 transform hover:scale-105">{{ question }}</li>
            {% endfor %}
        </ul>
    </div>
    
    <div class="content-card">
        <h3 class="text-2xl font-bold mb-5 flex items-center gap-3"><span class="text-3xl">✍️</span> Your Contribution</h3>
         <form id="note-form" class="space-y-4">
            <div>
                <textarea id="note-content" rows="8" class="form-textarea" placeholder="Share your thoughts here..."></textarea>
            </div>
            <div class="text-right pt-2">
                 <button type="submit" class="btn btn-primary">Add Note</button>
            </div>
        </form>
    </div>
</main>
{% endblock %}